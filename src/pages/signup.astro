---
import SignupForm from "@components/Signup/SignupForm.astro";
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Signup to GitFolders" description="Git Folders Signup Page">
  <script>
    import { supabase } from "@lib/supabase";
    import ROUTES from "@/NavRoutes";
    const checkSession = async () => {
      const {
        data: { session },
      } = await supabase.auth.getSession();
      if (session) {
        window.location.href = ROUTES.welcome.path;
      }
    };

    // Run check when page loads
    checkSession();
  </script>
  <SignupForm />
</Layout>
